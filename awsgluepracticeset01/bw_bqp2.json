{
  "name" : "bw_bqp2",
  "description" : "",
  "role" : "arn:aws:iam::408540077842:role/aws-glue-s3-read-write",
  "executionProperty" : {
    "maxConcurrentRuns" : 1
  },
  "command" : {
    "name" : "glueetl",
    "scriptLocation" : "s3://aws-glue-assets-408540077842-us-east-1/scripts/bw_bqp2.py",
    "pythonVersion" : "3"
  },
  "defaultArguments" : {
    "--enable-metrics" : "true",
    "--enable-spark-ui" : "true",
    "--spark-event-logs-path" : "s3://aws-glue-assets-408540077842-us-east-1/sparkHistoryLogs/",
    "--enable-job-insights" : "true",
    "--enable-glue-datacatalog" : "true",
    "--enable-continuous-cloudwatch-log" : "true",
    "--job-bookmark-option" : "job-bookmark-enable",
    "--job-language" : "python",
    "--TempDir" : "s3://aws-glue-assets-408540077842-us-east-1/temporary/"
  },
  "maxRetries" : 3,
  "allocatedCapacity" : 10,
  "timeout" : 2880,
  "maxCapacity" : 10.0,
  "glueVersion" : "3.0",
  "numberOfWorkers" : 10,
  "workerType" : "G.1X",
  "executionClass" : "STANDARD",
  "codeGenConfigurationNodes" : "{\"node-1672071782732\":{\"S3CatalogSource\":{\"AdditionalOptions\":{},\"Database\":\"bqp2\",\"Name\":\"applicant_references\",\"PartitionPredicate\":\"\",\"Table\":\"applicant_references_202212072030_csv\"}},\"node-1672071803822\":{\"SparkSQL\":{\"Inputs\":[\"node-1\",\"node-1672071618254\",\"node-1672071662491\",\"node-1672071692413\",\"node-1672071715555\",\"node-1672071732887\",\"node-1672071744121\",\"node-1672071771121\",\"node-1672071782732\",\"node-1672071644246\"],\"Name\":\"SQL Query\",\"OutputSchemas\":[{\"Columns\":[{\"Name\":\"id\",\"Type\":\"bigint\"},{\"Name\":\"hcl\",\"Type\":\"string\"},{\"Name\":\"datecreated\",\"Type\":\"string\"},{\"Name\":\"dateupdated\",\"Type\":\"string\"},{\"Name\":\"status\",\"Type\":\"string\"},{\"Name\":\"scripthcl\",\"Type\":\"string\"},{\"Name\":\"createdbyid\",\"Type\":\"bigint\"}]},{\"Columns\":[{\"Name\":\"id\",\"Type\":\"bigint\"},{\"Name\":\"hcl\",\"Type\":\"string\"},{\"Name\":\"datecreated\",\"Type\":\"string\"},{\"Name\":\"dateupdated\",\"Type\":\"string\"},{\"Name\":\"roothcl\",\"Type\":\"string\"},{\"Name\":\"parenthcl\",\"Type\":\"string\"},{\"Name\":\"min\",\"Type\":\"bigint\"},{\"Name\":\"max\",\"Type\":\"bigint\"},{\"Name\":\"aliashcl\",\"Type\":\"string\"},{\"Name\":\"ordinal\",\"Type\":\"bigint\"}]},{\"Columns\":[{\"Name\":\"scripthcl\",\"Type\":\"string\"},{\"Name\":\"prompthcl\",\"Type\":\"string\"},{\"Name\":\"inherited\",\"Type\":\"boolean\"},{\"Name\":\"readonly\",\"Type\":\"boolean\"},{\"Name\":\"hidden\",\"Type\":\"boolean\"},{\"Name\":\"inheritedscripthcl\",\"Type\":\"string\"},{\"Name\":\"ordinal\",\"Type\":\"bigint\"},{\"Name\":\"min\",\"Type\":\"bigint\"},{\"Name\":\"max\",\"Type\":\"bigint\"},{\"Name\":\"datecreated\",\"Type\":\"string\"},{\"Name\":\"createdbyid\",\"Type\":\"string\"},{\"Name\":\"inputtype\",\"Type\":\"string\"},{\"Name\":\"units\",\"Type\":\"string\"},{\"Name\":\"importancetype\",\"Type\":\"string\"},{\"Name\":\"category\",\"Type\":\"string\"},{\"Name\":\"minvalue\",\"Type\":\"bigint\"},{\"Name\":\"maxvalue\",\"Type\":\"bigint\"}]},{\"Columns\":[{\"Name\":\"id\",\"Type\":\"bigint\"},{\"Name\":\"hcl\",\"Type\":\"string\"},{\"Name\":\"datecreated\",\"Type\":\"string\"},{\"Name\":\"dateupdated\",\"Type\":\"string\"},{\"Name\":\"value\",\"Type\":\"string\"},{\"Name\":\"isdisqualifying\",\"Type\":\"boolean\"},{\"Name\":\"importance\",\"Type\":\"bigint\"},{\"Name\":\"expyears\",\"Type\":\"bigint\"},{\"Name\":\"explastused\",\"Type\":\"string\"},{\"Name\":\"explevel\",\"Type\":\"string\"},{\"Name\":\"state\",\"Type\":\"string\"},{\"Name\":\"ranking\",\"Type\":\"bigint\"},{\"Name\":\"fileid\",\"Type\":\"string\"},{\"Name\":\"expleveladjusted\",\"Type\":\"string\"},{\"Name\":\"note\",\"Type\":\"string\"},{\"Name\":\"valueadjusted\",\"Type\":\"string\"},{\"Name\":\"rating\",\"Type\":\"string\"},{\"Name\":\"promptoptionhcl\",\"Type\":\"string\"},{\"Name\":\"inputtype\",\"Type\":\"string\"},{\"Name\":\"groupidx\",\"Type\":\"bigint\"},{\"Name\":\"rootscripthcl\",\"Type\":\"string\"},{\"Name\":\"scriptresponsesetid\",\"Type\":\"bigint\"},{\"Name\":\"prompthcl\",\"Type\":\"string\"}]},{\"Columns\":[{\"Name\":\"id\",\"Type\":\"bigint\"},{\"Name\":\"hcl\",\"Type\":\"string\"},{\"Name\":\"datecreated\",\"Type\":\"string\"},{\"Name\":\"dateupdated\",\"Type\":\"string\"},{\"Name\":\"accounthcl\",\"Type\":\"string\"},{\"Name\":\"status\",\"Type\":\"string\"},{\"Name\":\"applicantid\",\"Type\":\"bigint\"},{\"Name\":\"jobpostingid\",\"Type\":\"bigint\"},{\"Name\":\"scriptresponsesetid\",\"Type\":\"bigint\"},{\"Name\":\"interviewselectionid\",\"Type\":\"bigint\"},{\"Name\":\"portfolioselectionid\",\"Type\":\"bigint\"}]},{\"Columns\":[{\"Name\":\"id\",\"Type\":\"bigint\"},{\"Name\":\"hcl\",\"Type\":\"string\"},{\"Name\":\"datecreated\",\"Type\":\"string\"},{\"Name\":\"dateupdated\",\"Type\":\"string\"},{\"Name\":\"accounthcl\",\"Type\":\"string\"},{\"Name\":\"title\",\"Type\":\"string\"},{\"Name\":\"numopenings\",\"Type\":\"bigint\"},{\"Name\":\"status\",\"Type\":\"string\"},{\"Name\":\"interviewselectionmethod\",\"Type\":\"string\"},{\"Name\":\"portfolioselectionmethod\",\"Type\":\"string\"},{\"Name\":\"companyid\",\"Type\":\"bigint\"},{\"Name\":\"createdby\",\"Type\":\"bigint\"},{\"Name\":\"updatedby\",\"Type\":\"bigint\"},{\"Name\":\"addressid\",\"Type\":\"bigint\"},{\"Name\":\"scriptresponsesetid\",\"Type\":\"bigint\"},{\"Name\":\"dateapproved\",\"Type\":\"string\"},{\"Name\":\"numcandidates\",\"Type\":\"bigint\"},{\"Name\":\"numapplications\",\"Type\":\"bigint\"}]},{\"Columns\":[{\"Name\":\"id\",\"Type\":\"bigint\"},{\"Name\":\"hcl\",\"Type\":\"string\"},{\"Name\":\"datecreated\",\"Type\":\"string\"},{\"Name\":\"dateupdated\",\"Type\":\"string\"},{\"Name\":\"accounthcl\",\"Type\":\"string\"},{\"Name\":\"status\",\"Type\":\"string\"},{\"Name\":\"type\",\"Type\":\"string\"},{\"Name\":\"applicationid\",\"Type\":\"bigint\"},{\"Name\":\"interviewerid\",\"Type\":\"bigint\"},{\"Name\":\"scriptresponsesetid\",\"Type\":\"bigint\"},{\"Name\":\"createdby\",\"Type\":\"bigint\"},{\"Name\":\"updatedby\",\"Type\":\"bigint\"},{\"Name\":\"bookingid\",\"Type\":\"bigint\"}]},{\"Columns\":[{\"Name\":\"id\",\"Type\":\"bigint\"},{\"Name\":\"hcl\",\"Type\":\"string\"},{\"Name\":\"datecreated\",\"Type\":\"string\"},{\"Name\":\"dateupdated\",\"Type\":\"string\"},{\"Name\":\"accounthcl\",\"Type\":\"string\"},{\"Name\":\"name\",\"Type\":\"string\"},{\"Name\":\"url\",\"Type\":\"string\"},{\"Name\":\"numoffices\",\"Type\":\"bigint\"},{\"Name\":\"numemployees\",\"Type\":\"bigint\"},{\"Name\":\"status\",\"Type\":\"string\"},{\"Name\":\"scriptresponsesetid\",\"Type\":\"bigint\"}]},{\"Columns\":[{\"Name\":\"id\",\"Type\":\"bigint\"},{\"Name\":\"hcl\",\"Type\":\"string\"},{\"Name\":\"datecreated\",\"Type\":\"string\"},{\"Name\":\"dateupdated\",\"Type\":\"string\"},{\"Name\":\"fullname\",\"Type\":\"string\"},{\"Name\":\"email\",\"Type\":\"string\"},{\"Name\":\"phonenumber\",\"Type\":\"bigint\"},{\"Name\":\"type\",\"Type\":\"string\"},{\"Name\":\"status\",\"Type\":\"string\"},{\"Name\":\"title\",\"Type\":\"string\"},{\"Name\":\"relationship\",\"Type\":\"string\"},{\"Name\":\"company\",\"Type\":\"string\"},{\"Name\":\"overallrating\",\"Type\":\"string\"},{\"Name\":\"scriptresponsesetid\",\"Type\":\"bigint\"},{\"Name\":\"applicantid\",\"Type\":\"bigint\"}]},{\"Columns\":[{\"Name\":\"id\",\"Type\":\"bigint\"},{\"Name\":\"hcl\",\"Type\":\"string\"},{\"Name\":\"datecreated\",\"Type\":\"string\"},{\"Name\":\"dateupdated\",\"Type\":\"string\"},{\"Name\":\"ordinal\",\"Type\":\"string\"},{\"Name\":\"scripthcl\",\"Type\":\"string\"},{\"Name\":\"scriptresponsesetid\",\"Type\":\"bigint\"},{\"Name\":\"createdbyid\",\"Type\":\"bigint\"},{\"Name\":\"groupidx\",\"Type\":\"bigint\"}]}],\"SqlAliases\":[{\"Alias\":\"script_response_sets\",\"From\":\"node-1\"},{\"Alias\":\"scripts\",\"From\":\"node-1672071618254\"},{\"Alias\":\"script_prompts\",\"From\":\"node-1672071662491\"},{\"Alias\":\"prompt_responses\",\"From\":\"node-1672071692413\"},{\"Alias\":\"applications\",\"From\":\"node-1672071715555\"},{\"Alias\":\"job_requests\",\"From\":\"node-1672071732887\"},{\"Alias\":\"interviews\",\"From\":\"node-1672071744121\"},{\"Alias\":\"companies\",\"From\":\"node-1672071771121\"},{\"Alias\":\"applicant_references\",\"From\":\"node-1672071782732\"},{\"Alias\":\"script_responses\",\"From\":\"node-1672071644246\"}],\"SqlQuery\":\"select distinct\\r\\n\\tpromptResponses.id as PromptResponseId,\\r\\n\\tscriptResponses.id as ScriptResponseId,\\r\\n\\tpromptResponses.rootScriptHcl as RootEntity,\\r\\n\\tscriptResponseSet.scriptHcl as Entity,\\r\\n\\tscriptResponses.scriptHcl as SubEntity,\\r\\n\\tpromptResponses.groupIdx+1 as SubEntityId,\\r\\n\\tpromptResponses.promptHcl as SupraAttribute,\\r\\n\\tpromptResponses.promptOptionHcl as Attribute,\\r\\n\\tpromptResponses.value as Value,\\r\\n\\tapplication.id as ApplicationId,\\r\\n\\tjobRequest.id as JobRequestId,\\r\\n\\tinterview.id as InterviewId,\\r\\n\\tcompany.id as CompanyId,\\r\\n\\tapplicantReference.id as ApplicantReferenceId,\\r\\n\\tpromptResponses.*\\r\\nfrom\\r\\n    script_response_sets scriptResponseSet\\r\\n\\r\\nleft outer join scripts rootScript on\\r\\n\\trootScript.hcl = scriptResponseSet.scriptHcl\\r\\n\\r\\nleft outer join script_responses scriptResponses on\\r\\n\\tscriptResponses.scriptResponseSetId = scriptResponseSet.id\\r\\n\\r\\nleft outer join scripts script on\\r\\n\\tscript.hcl = scriptResponses.scriptHcl\\r\\n\\r\\nleft outer join script_response_sets scriptResponsesScriptResponseSet on\\r\\n\\tscriptResponsesScriptResponseSet.id = scriptResponses.scriptResponseSetId\\r\\n\\r\\nleft outer join script_prompts scriptPrompts on\\r\\n\\tscriptPrompts.scriptHcl = scriptResponses.scriptHcl\\r\\n\\r\\nleft outer join prompt_responses promptResponses on\\r\\n\\t((scriptPrompts.inheritedScriptHcl is null\\r\\n\\tand promptResponses.rootScriptHcl = rootScript.hcl)\\r\\n\\tor promptResponses.rootScriptHcl = scriptPrompts.inheritedScriptHcl)\\r\\n\\tand promptResponses.promptHcl = scriptPrompts.promptHcl\\r\\n\\tand promptResponses.inputType = scriptPrompts.inputType\\r\\n\\tand promptResponses.scriptResponseSetId = scriptResponses.scriptResponseSetId\\r\\n\\tand promptResponses.groupIdx = scriptResponses.groupIdx\\r\\n\\r\\nleft outer join applications application on application.scriptResponseSetId = scriptResponseSet.id\\r\\n\\r\\nleft outer join job_requests jobRequest on jobRequest.scriptResponseSetId = scriptResponseSet.id\\r\\n\\r\\nleft outer join interviews interview on interview.scriptResponseSetId = scriptResponseSet.id\\r\\n\\r\\nleft outer join companies company on company.scriptResponseSetId = scriptResponseSet.id\\r\\n\\r\\nleft outer join applicant_references applicantReference on applicantReference.scriptResponseSetId = scriptResponseSet.id\\r\\n\\r\\nwhere\\r\\n    promptResponses.id is not null and\\r\\n\\t(application.id is not null or\\r\\n\\tjobRequest.id is not null or\\r\\n\\tinterview.id is not null or\\r\\n\\tcompany.id is not null or\\r\\n\\tapplicantReference.id is not null)\\r\\n\\r\\n\"}},\"node-1672071744121\":{\"S3CatalogSource\":{\"AdditionalOptions\":{},\"Database\":\"bqp2\",\"Name\":\"interviews\",\"PartitionPredicate\":\"\",\"Table\":\"interviews_202212072030_csv\"}},\"node-1\":{\"S3CatalogSource\":{\"AdditionalOptions\":{},\"Database\":\"bqp2\",\"Name\":\"script_response_sets\",\"PartitionPredicate\":\"\",\"Table\":\"script_response_sets_202212072030_csv\"}},\"node-1672322686431\":{\"S3DirectTarget\":{\"Compression\":\"none\",\"Format\":\"csv\",\"Inputs\":[\"node-1672071803822\"],\"Name\":\"Amazon S3\",\"PartitionKeys\":[],\"Path\":\"s3://bw-datapipeline/output/\",\"SchemaChangePolicy\":{\"Database\":\"bqp2\",\"EnableUpdateCatalog\":true,\"Table\":\"prompt_response_extended_2\",\"UpdateBehavior\":\"UPDATE_IN_DATABASE\"}}},\"node-1672071644246\":{\"S3CatalogSource\":{\"AdditionalOptions\":{},\"Database\":\"bqp2\",\"Name\":\"script_responses\",\"PartitionPredicate\":\"\",\"Table\":\"script_responses_202212072030_csv\"}},\"node-1672071662491\":{\"S3CatalogSource\":{\"AdditionalOptions\":{},\"Database\":\"bqp2\",\"Name\":\"script_prompts\",\"PartitionPredicate\":\"\",\"Table\":\"script_prompts_202212072030_csv\"}},\"node-1672071692413\":{\"S3CatalogSource\":{\"AdditionalOptions\":{},\"Database\":\"bqp2\",\"Name\":\"prompt_responses\",\"PartitionPredicate\":\"\",\"Table\":\"prompt_responses_202212072030_csv\"}},\"node-1672071715555\":{\"S3CatalogSource\":{\"AdditionalOptions\":{},\"Database\":\"bqp2\",\"Name\":\"applications\",\"PartitionPredicate\":\"\",\"Table\":\"applications_202212072030_csv\"}},\"node-1672071771121\":{\"S3CatalogSource\":{\"AdditionalOptions\":{},\"Database\":\"bqp2\",\"Name\":\"companies\",\"PartitionPredicate\":\"\",\"Table\":\"companies_202212072030_csv\"}},\"node-1672071618254\":{\"S3CatalogSource\":{\"AdditionalOptions\":{},\"Database\":\"bqp2\",\"Name\":\"scripts\",\"PartitionPredicate\":\"\",\"Table\":\"scripts_202212072030_csv\"}},\"node-1672071732887\":{\"S3CatalogSource\":{\"AdditionalOptions\":{},\"Database\":\"bqp2\",\"Name\":\"job_requests\",\"PartitionPredicate\":\"\",\"Table\":\"job_requests_202212072030_csv\"}}}",
  "sourceControlDetails" : {
    "provider" : "GITHUB",
    "repository" : "awsgluepracticeset01",
    "branch" : "main",
    "folder" : "awsgluepracticeset01"
  }
}